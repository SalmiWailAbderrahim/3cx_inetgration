{% extends 'base.html' %}
{% load static %}
{% block sidebar %}

        <div class="container">
            <div class="panel" >Call Queues</div>
        <div class="main--container"> 
             
            <div class="table">
            <div class="panel" ><h2>Call Queues</h2></div>
            <input type="text" id="searchBar" placeholder="Search...">
            <table id="myTable">
              <tr>
                <th>Ext.</th>
                <th>Queue Name</th>
                <th>PollingStrategy</th>
                <th>Timeout</th>
                <th>Queue Language</th>
                <th></th>
              </tr>
            {% for i in data.list %}
              <tr>
                <td>{{i.Number}} </td>
                <td>{{i.Name}}</td>
                <td>{{i.PollingStrategy}}</td>
                <td>{{i.RingTime}}</td>
                <td>{{i.Language}}</td>
                <td>
                  <a href="#" onclick="confirmDelete({{i.Id}})">
                  <span class="icon"><i class="ri-close-circle-line"></i></span>
                  </a>
                </td>
              </tr>
            {% endfor %}
            </table>
          </div>
        </div>  
        </div>
    </section>
      </body>     
    <script src="{% static 'js/JavaScript.js' %}"></script>
    <script>
        function confirmDelete(id) {
          if (confirm("Are you sure you want to delete?")) {
            window.location.href="/callqueues?delete=true&id="+id
          } else {
            // User clicked "Cancel", do nothing or handle the cancellation
          }
        }
      </script>
      <script>
        var elements = document.querySelectorAll('.hrf');       
        // Change the class of the last element to "active"
          if (elements.length > 0) {
          var lastElement = elements[elements.length - 1];
          lastElement.classList.add('active');
        }
      </script>
</html>
{% endblock %}